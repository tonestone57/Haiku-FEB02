SubDir HAIKU_TOP src servers keystore ;

UsePrivateHeaders app ;
UsePrivateHeaders shared ;

if [ FIsBuildFeatureEnabled openssl ] {
	UseBuildFeatureHeaders openssl ;
	SubDirC++Flags -DHAVE_OPENSSL ;
}

Application keystore_server :
	AppAccessRequestWindow.cpp
	KeyRequestWindow.cpp
	Keyring.cpp
	KeyStoreServer.cpp
	: be localestub shared [ TargetLibstdc++ ]
	: keystore_server.rdef
;

if [ FIsBuildFeatureEnabled openssl ] {
	LinkAgainst keystore_server : [ BuildFeatureAttribute openssl : libraries ] ;
}

DoCatalogs keystore_server :
    x-vnd.Haiku-keystore_server
    :
	AppAccessRequestWindow.cpp
	KeyRequestWindow.cpp
;
